## SQL ?

- SQL은 관계 데이터베이스를 위한 표준 질의어로 많이 사용되는 언어이다.
- 사용자가 처리를 원하는 데이터가 무엇인지만 제시하기 때문에 비절차적인 언어이다.
- DBMS에 직접 접근하여 대화식으로 질의를 작성해 사용할 수도 있고, C, C++, Java 같은 언어로 작성한 응용 프로그램에 삽입하여 사용할 수도 있다.

## SQL의 분류

- 데이터 정의어 (DDL)
    - 테이블을 생성하고 변경, 삭제하는 기능을 제공한다.
- 데이터 조작어 (DML)
    - 테이블에 새 데이터를 삽입하거나, 테이블에 저장된 데이터를 수정, 삭제, 검색하는 기능을 제공한다.
- 데이터 제어어 (DCL)
    - 보안을 위해 데이터에 대한 접근 및 사용 권한을 사용자별로 부여하거나 취소하는 기능을 하는 언어이다.

# 2. SQL을 이용한 데이터 정의

## SQL의 데이터 정의 기능

### 1. 테이블의 생성

```sql
CREATE TABLE 테이블_이름 (
		속성_이름 데이터_타입 [NOT_NULL] [DEFAULT 기본값]
		[PRIMARY KEY (속성_리스트)]
		[UNIQUE (속성_리스트)]
		[FOREIGN KEY (속성_리스트) REFERENCES 테이블_이름(속성_리스트)]
			[ON DELETE 옵션] [ON UPDATE 옵션]
		[CONSTRAINT 이름] [CHECK(조건)]
);
```

- `NULL` 을 허용하지 않으려면 `NOT_NULL` 을 반드시 추가한다. 기본키는 반드시 `NOT NULL` 키워드를 표기한다.
- 속성의 데이터 타입


| 데이터 타입 | 의미 |
| --- | --- |
| INT, INTEGER | 정수 |
| SMALLINT | INT 보다 작은 정수 |
| CHAR(N) | 길이가 N인 고정 길이의 문자열 |
| VARCHAR(N) | 최대 길이가 N인 가변 길이의 문자열 |
| NUMEIRC(P,S) , DEMICAL(P,S) | 고정 실수점 소수 (P는 소수점을 제외한 전체 숫자의 길이, S는 소수점 이하 숫자의 길이) |
| FLOAT(N) | 길이가 N인 부동 소수점 실수 |
| REAL | 부동 소수점 실수 |
| DATE | 연,월,일로 표현되는 날짜 |
| TIME | 시,분,초로 표현되는 시간 |
| DATETIME | 날짜와 시간 |
    
    ```sql
    고객아이디 VARCHAR(20) NOT NULL
    
    적립금 INT DEFAULT 0
    
    담당자 VARCHAR(10) DEFAULT '방경아'
    
    학점 CHAR(2) DEFAULT 'A0' // 대소문자 구분
    학점 CHAR(2) DEFAULT 'a0' // 대소문자 구분
    ```

- 키의 정의
    - 키는 기본키, 대체키, 외래키를 지정할 수 있다.

```sql
PRIMARY KEY(고객아이디) // 기본키
PRIMARY KEY(주문고객, 주문제품) // 2개의 속성을 기본키로

UNIQUE(고객이름) // 대체키

// 소속부서 특성이 부서 테이블의 부서번호 속성을 참조하는 외래키이고 DELETE, UPDATE 의 경우 CASCADE로 처리한다.
FOREIGN KEY(소속부서) REFERENCES 부서(부서번호)
	ON DELETE CASCADE ON UPDATE CASCADE

// 기본 값은 NO ACTION 이다.
FOREIGN KEY(소속부서) REFERENCES 부서(부서번호)
```

- 삭제 및 수정을 할 때 4가지 방법 중 하나를 선택할 수 있다.
    - `ON DELETE(UPDATE) NO ACTION` : 투플을 삭제하지 못하게 한다.
    - `ON DELETE(UPDATE) CASCADE` : 관련 투플을 함께 삭제한다.
    - `ON DELETE(UPDATE) SET NULL` : 관련 투플의 외래키 값을 NULL로 변경한다.
    - `ON DELETE(UPDATE) SET DEFAULT` : 관련 투플의 외래키 값을 미리 지정한 기본 값으로 설정한다.