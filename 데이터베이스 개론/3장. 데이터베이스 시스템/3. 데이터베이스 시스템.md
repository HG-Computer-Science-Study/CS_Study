# 1. 데이터베이스 시스템의 정의

- 데이터베이스 : 저장된 데이터의 집합
- 데이터베이스 관리 시스템 : db에 저장된 데이터가 일관되고 무결한 상태로 유지되도록 관리하는 것
- 데이터베이스 시스템 : db와 db관리 시스템을 이용해 조직에 필요한 정보를 제공해주는 전체 시스템

# 2. 데이터베이스의 구조

## 2.1. 스키마

- 스키마 : db에 저장되는 데이터 구조와 제약조건을 정의한 것 (ex. varchar(20))
- 인스턴스 : 정의된 스키마에 따라 db에 실제로 저장된 값

## 2.2. 3단계 데이터베이스 구조

- **3단계 데이터베이스 구조** : db를 세 단계(외부 단계, 개념 단계, 내부 단계)로 나누고 각 단계별로 다른 추상화를 제공하는 것
- **외부 단계** : 개별 사용자 관점에서 db를 이해하고 표현함. (ex. 상품관리 직원은 상품 데이터에만 관심)
  - **외부 스키마(서브 스키마)** : 외부 단계에서 사용자아게 필요한 데이터베이스를 정의한 것. 1개의 db에는 여러 개의 외부 스키마가 존재함
- **개념 단계** : 데이터베이스를 조직 전체의 관점에서 이해하고 표현하는 것
  - **개념 스키마** : 전체 db에 저장되는 데이터, 데이터간의 관계와 제약 조건, 데이터에 대한 보안 정책이나 접근 권한 정의 등이 포함됨. 1개의 db에는 1개의 개념 스키마 존재
    ![Image](https://github.com/user-attachments/assets/123ff7b9-f519-4d76-9f27-678fce26d492)
- **내부 단계** : 데이터베이스를 저장 장치의 관점에서 이해하고 표현함
  - 내부 스키마 : 전체 db가 저장 장치에 실제로 저장되는 방법 정의 (ex. 파일에 데이터를 저장하는 레코드의 구조, 레코드를 구성하는 필드 크기, 인덱스를 이용한 레코드 접근 경로 등)

## 2.3. 데이터 독립성

- **매핑** : 스키마 사이의 대응 관계
  - **외부/개념 매핑 (응용 인터페이스)** : 외부 스키마 → 개념 스키마 대응 관계 정의
  - **개념/내부 매핑 (저장 인터페이스)** : 개념 스키마 → 내부 스키마 대응 관계 정의
- **데이터 독립성** : 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 속성
  - **논리적 데이터 독립성** : 개념 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는 것.
  - **물리적 데이터 독립성** : 내부 스키마가 변경되더라도 개념 스키마가 영향을 받지 않는 것

## 2.4. 데이터 사전 (시스템 카탈로그)

- **데이터 사전 (시스템 데이터베이스)** : 스키마, 사상(매핑) 정보, 다양한 제약조건 등 메타 데이터를 저장한다.
  - 데이터베이스 관리 시스템이 스스로 생성하고 유지함.
  - 일반 사용자도 접근할 수 있으나, 내용을 편집할수는 없다.
- **데이터 디렉터리** : 데이터 사전에 있는 데이터에 실제로 접근하는 데 필요한 위치 정보 관리
  - 일반 사용자는 접근할 수 없다

# 3. 데이터베이스 사용자

1. **데이터베이스 관리자** : DBA. 데이터베이스 시스템을 운영/관리함
2. **최종 사용자** : 데이터 조작어를 이용해 데이터를 조작하는 사용자
3. **응용 프로그래머** : 응용 프로그램 작성시 데이터 조작어를 삽입하는 사용자

# 4. 데이터 언어

1. **데이터 정의어 (DDL)** : 스키마를 정의하거나, 수정 또는 삭제하기 위해 사용
   - 변경사항은 데이터 사전에 저장된다.
   - CREATE : 새로운 **테이블, 뷰, 인덱스, 프로시저** 작성
   - DROP : 이미 존재하는 테이블, 뷰, 인덱스, 프로시저 제거
   - ALTER : 이미 존재하는 개체 변경
   - TRUNCATE : 테이블에서 데이터 제거
2. **데이터 조작어 (DML)** : 데이터의 삽입, 삭제, 수정, 검색 등의 처리를 요구하기 위해 사용
   - SELECT, INSERT, UPDATE, DELETE
3. **데이터 제어어 (DCL)** : 동시 공유가 가능하면서도 무결성과 일관성을 유지하도록 내부적으로 필요한 규칙이나 기법을 정의하기 위해 사용
   - 데이터 제어어가 보장하는 특성 : 무결성, 보안, 회복, 동시성
   - GRANT : 사용자 생성, 권한 부여
   - REVOKE : 사용자 삭제, 권한 회수

# 5. 데이터베이스 관리 시스템의 구성

![Image](https://github.com/user-attachments/assets/5675753a-3bcd-497f-b45d-12f4947dd6ec)

1. **질의 처리기** : 사용자의 데이터 처리 요구를 해석하여 처리하는 역할
2. **저장 데이터 관리자** : 디스크에 저장된 데이터베이스와 데이터 사전을 관리하고, 여기에 실제로 접근함.
