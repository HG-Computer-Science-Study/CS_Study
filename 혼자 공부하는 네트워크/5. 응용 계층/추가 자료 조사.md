# 추가 자료 조사

## 💡 1. HTTP 메서드의 속성

HTTP 메서드의 속성으로는 **1) 안전성 2) 멱등성 3) 캐시 가능성**이 있다.

### 1) 안전성

주의❗ **안전성**은 메서드가 <u>시스템 장애로부터 안전하다는 의미가 아니다</u>

#### 정의
> 호출해도 리소스가 변경되지 않고 데이터를 일관성있게 유지하는 것 

**GET 메서드**는 단순 데이터 조회 기능을 수행하기 때문에 리소스를 변경/수정하지 않는다.

따라서 안전한 메서드이다.

반면, **POST, PUT, PATCH, DELETE 메서드**는 메서드 호출 후 데이터가 변경되거나 서버에서 삭제되기에 안전하지 않은 메서드이다.

#### 메서드별 안전성

| HTTP 메서드 | 안전성 (서버 상태 변경 여부) | 설명                                 |
|-------------|-------------------------------|--------------------------------------|
| `GET`       | ✅ 안전함                     | 데이터를 조회하는 요청이므로 서버 상태를 변경하지 않음. |
| `HEAD`      | ✅ 안전함                     | 리소스의 헤더만 조회하므로 상태를 변경하지 않음.      |
| `OPTIONS`   | ✅ 안전함                     | 서버의 지원 메서드와 설정 정보를 조회. 상태 변경 없음. |
| `TRACE`     | ✅ 안전함                     | 서버에서 받은 요청을 반환. 상태 변경 없음.           |
| `POST`      | ❌ 비안전함                   | 리소스를 생성하거나 서버 상태를 변경함.              |
| `PUT`       | ❌ 비안전함                   | 리소스를 생성하거나 갱신하여 상태를 변경함.          |
| `DELETE`    | ❌ 비안전함                   | 리소스를 삭제하여 상태를 변경함.                   |
| `PATCH`     | ❌ 비안전함                   | 리소스를 부분적으로 수정하여 상태를 변경함.          |

### 2) 멱등성

#### 정의
> 동일한 요청을 한번 보내는 것과 여러변 연속으로 보내는 것이 같은 효과를 가지고, **서버의 상태**도 동일하게 남는 것 

#### 메서드별 멱등성

| HTTP 메서드 | 멱등성 (요청 반복 시 동일 결과) | 설명                                                         |
|-------------|--------------------------------|--------------------------------------------------------------|
| `GET`       | ✅ 멱등성                     | 동일한 요청을 반복해도 조회 결과는 변하지 않음.                  |
| `HEAD`      | ✅ 멱등성                     | 동일한 요청을 반복해도 응답 헤더는 변하지 않음.                  |
| `OPTIONS`   | ✅ 멱등성                     | 서버 설정 정보를 조회하므로 반복 요청해도 결과가 같음.            |
| `TRACE`     | ✅ 멱등성                     | 요청 데이터를 그대로 반환하므로 멱등성을 가짐.                  |
| `POST`      | ❌ 비멱등성                   | 반복 호출 시 리소스가 중복 생성될 수 있으므로 멱등성을 가지지 않음. |
| `PUT`       | ✅ 멱등성                     | 같은 데이터를 여러 번 업데이트해도 최종 상태는 동일함.           |
| `DELETE`    | ✅ 멱등성                     | 이미 삭제된 리소스를 다시 삭제하려고 해도 최종 상태는 동일함.       |
| `PATCH`     | ❌ 비멱등성                   | 요청에 따라 리소스의 부분 수정이 다를 수 있으므로 멱등성을 가지지 않음. |

### ✨ 안전성과 멱등성의 차이점

- **안전성** : 리소스를 한번 호출하든, 여러번 호출하든 리소스에 <u>수정이 발생하지 않는 것</u>
- **멱등성** : **수정이 발생한다고 해도** <u>메서드를 여러번 실행한 결과 = 한번 실행한 결과</u>

### 3) 캐시 가능성

#### 정의
> 응답 결과 리소스를 캐싱해서 효율적으로 사용할 수 있는지 여부

브라우저는 캐시 공간을 가지고 있으며, 클라이언트가 서버에 한 번 요청했던 데이터를 다시 전송할 필요 없도록 임시로 데이터를 보관한다.

#### 메서드별 캐시 가능성

| HTTP 메서드 | 캐시 가능성 | 설명                                                         |
|-------------|-------------|-------------------------------------------------------------|
| `GET`       | ✅ 가능     | 일반적으로 캐시 가능하며, 캐시 제어 헤더(`Cache-Control`, `ETag`)에 따라 동작. |
| `HEAD`      | ✅ 가능     | `GET`과 동일한 조건에서 캐시 가능.                          |
| `OPTIONS`   | ❌ 불가능   | 서버의 설정 정보를 조회하는 목적이라 캐싱하지 않음.             |
| `TRACE`     | ❌ 불가능   | 디버깅 목적이므로 캐싱되지 않음.                              |
| `POST`      | ❌ 불가능   | 리소스를 생성하거나 상태를 변경하는 요청이므로 캐싱하지 않음.     |
| `PUT`       | ❌ 불가능   | 리소스를 생성 또는 갱신하며 캐싱하지 않음.                     |
| `DELETE`    | ❌ 불가능   | 리소스를 삭제하는 요청이므로 캐싱하지 않음.                    |
| `PATCH`     | ❌ 불가능   | 리소스를 부분적으로 수정하므로 캐싱하지 않음.                  |

<hr>

## 💡 2. DNS, DOH, DOT의 특성 및 사용되는 환경

### DNS

#### 정의
> 사람이 읽을 수 있는 **도메인 이름** > 컴퓨터가 읽을 수 있는 **IP 주소**로 변환하는 것

#### 문제점 - 보안에 취약함

보안에 취약하여 **DNS 스푸핑** 또는 **DNS 하이재킹** 에 노출되기 쉽다.

기본적으로 DNS 쿼리 및 응답은 **UDP**를 통해 일반 텍스트로 전송된다.

따라서 네트워크, ISP, 전송을 모니터링할 수 있는 모든 사람이 읽을 수 있다.

웹 사이트에서 HTTPS를 사용하더라도 해당 웹 사이트로 이동하는 데 필요한 DNS 쿼리가 노출된다.

<img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/5Cgzkxb8COyIZ9evqqGFyF/384df7ee28643474080bbcd564fc3cfa/dns-traffic-unsecured.svg" alt="image1" width="600" height="250">

#### 사용 환경

대부분의 인터넷 환경에서 기본적으로 사용된다.

### DoT(DNS OVER TLS)

#### 정의
> **TLS 프로토콜**을 통해 DNS, DNS 쿼리를 암호화하여 안전하고 비공개로 유지하는 표준

#### 사용 환경

**기업 네트워크**에서 DNS 보안을 강화하기 위해 사용된다.
**ISP**가 고객의 DNS 요청을 보호하기 위해 활용한다.

### DoH(DNS OVER HTTPS)

#### 정의
> DoT의 대안, **HTTPS 프로토콜**을 통한 DNS, DoH 트래픽을 다른 HTTPS 트래픽처럼 보이게 하여 DNS 쿼리 및 응답을 암호화하는 것 

데이터가 일반 HTTPS 트래픽(포트 443)에 포함되므로 네트워크 관리자가 DNS 요청을 감시하거나 차단하기 어렵다.

#### 사용 환경

**개인 사용자 프라이버시** 보호가 중요한 경우 사용된다.

이 밖에도 **ISP나 국가 감시로부터의 보호**를 목적으로 한다.

### DNS vs DoT vs DoH

DoT와 DoH의 가장 중요한 차이점은 각기 사용하는 **포트** 이다.

### DNS, DoH, DoT 특성 및 사용되는 환경

| **특성**         | **DNS**                          | **DoH**                          | **DoT**                          |
|------------------|----------------------------------|----------------------------------|----------------------------------|
| **암호화 여부**   | ❌ 암호화되지 않음               | ✅ HTTPS를 통해 암호화            | ✅ TLS를 통해 암호화             |
| **사용 포트**     | UDP/TCP 포트 53                 | HTTPS 포트 443                   | 전용 포트 853                   |
| **트래픽 식별**   | 식별 가능                       | 일반 HTTPS 트래픽에 숨겨져 식별 어려움 | 전용 포트로 인해 식별 쉬움      |
| **주요 장점**     | 단순하고 효율적                 | 프라이버시 강화, 방화벽 우회       | 네트워크 안정성 및 관리 용이     |
| **사용 사례**     | 대부분의 인터넷 환경            | 브라우저, 개인 사용자            | 기업, ISP, 공공 DNS 서비스      |

